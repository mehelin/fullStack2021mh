
title Tallenna

selain->palvelin: HTTP GET https://studies.cs.helsinki.fi/exampleapp/new_note_spa
palvelin-->selain: application/json

note over selain:
Selain alkaa suorittaa js-koodia
joka pyytää JSON-datan palvelimelta
Pyyntö kohdistuu osoitteeseen new_note_spa,
on tyypiltään POST ja se sisältää
JSON-muodossa olevan uuden muistiinpanon,
johon kuuluu sekä sisältö (content) että 
aikaleima (date). Pyyntöön liitetty headeri
Content-Type kertoo palvelimelle,
että pyynnön mukana tuleva data on
JSON-muotoista
end note

selain->palvelin: HTTP GET https://studies.cs.helsinki.fi/exampleapp/data.json
palvelin-->selain: [{ content: "PumppisRumppis Smuupit", date: "2021-07-05" }, ...]

note over selain:
Komennolla document.getElementById('notes_form')
koodi hakee sivulta lomake-elementin ja
rekisteröi sille tapahtumankäsittelijän
hoitamaan tilanteen, jossa lomake "submitoidaan"
eli lähetetään. selain suorittaa 
tapahtumankäsittelijän
joka renderöi muistiinpanot näytölle.
end note

https://www.websequencediagrams.com/cgi-bin/cdraw?lz=dGl0bGUgVGFsbGVubmEKCnNlbGFpbi0-cGFsdmVsaW46IEhUVFAgR0VUIGh0dHBzOi8vc3R1ZGllcy5jcy5oZWxzaW5raS5maS9leGFtcGxlYXBwL25ld19ub3RlX3NwYQoAQggtLT4AVwY6IGFwcGxpY2F0aW9uL2pzb24KCm5vdGUgb3ZlciAAHQcKUwCBBAUgYWxrYWEgc3Vvcml0dGFhIGpzLWtvb2RpYQpqb2thIHB5eXTDpMOkIEpTT04tZGF0YW4gAIE0B21lbHRhClB5eW50w7Yga29oZGlzdHV1IG9zb2l0dGVlc2VlbiAAgR4MLApvbiB0eXlwaWwATwVuIFBPU1QgamEgc2Ugc2lzw6QAEgYKAGcFbXVvZG9zc2Egb2xldmFuIHV1ZGVuIG11aXN0aWlucGFub24sCmpvaG9uIGt1dWx1dSBzZWvDpABACbYgKGNvbnRlbnQpIGV0dMOkIAphaWthbGVpbWEgKGRhdGUpLiAAgTcHw7ZuIGxpaXRldHR5IGhlYWRlcmkKQwA4Bi1UeXBlIGtlcnRvbwCBcAtsZSwKAFEGcHl5bm7Dtm4gbXVrYW5hIHR1bGV2YSBkYXRhIG9uAIFECXRvaXN0YQplbmQgbm90ZQCDQ0dkYXRhLgCDXgUAg3QTW3sgAIF8BzogIlB1bXBwaXNSAAEGIFNtdXVwaXQiLCBkYXRlOiAiMjAyMS0wNy0wNSIgfSwgLi4uXQCEIxRLb21lbm5vbGxhIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3Rlc19mb3JtJykKAIRJBSBoYWtlZSBzaXZ1bHRhIGxvbWFrZS1lAC8GaW4gamEKcmVraXN0ZXLDtmkgc2lsbGUgdGFwYWh0dW1hbmvDpHNpdHRlbGlqw6RuCmhvaXRhbWFhbiB0aWxhbnRlZW4sIGoAhCgFAFQGICJzdWJtaXRvaWRhYW4iCmVsaSBsw6RoZXRlAIR0Bi4AhgAHAIVuCwoAVhkAhgQFcmVuZACBFwYAhHcMdCBuw6R5dMO2bGxlLgCDUQs&s=default
